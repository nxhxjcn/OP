-- ULTIMATE FE BOMBARDMENT SCRIPT V2
-- Maximum chaos with optimized FE exploits

local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local CoreGui = game:GetService("CoreGui")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local StarterGui = game:GetService("StarterGui")

-- Initialize
getgenv().BombardmentActive = getgenv().BombardmentActive or false
getgenv().NotificationSpam = getgenv().NotificationSpam or false
getgenv().ChatSpam = getgenv().ChatSpam or false
local LocalPlayer = Players.LocalPlayer

-- Cache for performance
local cachedTouchEvents = {}
local cachedTripParts = {}
local cachedRemotes = {}
local lastCacheUpdate = 0

-- Optimized: Find all TouchEvent remotes with caching
local function findAllTouchEvents()
    if tick() - lastCacheUpdate < 10 and #cachedTouchEvents > 0 then
        return cachedTouchEvents
    end
    
    cachedTouchEvents = {}
    
    for _, location in pairs({ReplicatedStorage, Workspace, game:GetService("JointsService")}) do
        for _, item in pairs(location:GetDescendants()) do
            if item:IsA("RemoteEvent") and item.Name == "TouchEvent" then
                table.insert(cachedTouchEvents, item)
            end
        end
    end
    
    lastCacheUpdate = tick()
    print("[FE] Cached " .. #cachedTouchEvents .. " TouchEvent remotes")
    return cachedTouchEvents
end

-- Find all trip/trigger parts
local function findTripParts()
    if #cachedTripParts > 0 then return cachedTripParts end
    
    cachedTripParts = {}
    
    for _, item in pairs(Workspace:GetDescendants()) do
        if item:IsA("BasePart") and (
            item.Name:lower():find("trip") or 
            item.Name:lower():find("trigger") or
            item.Name:lower():find("touch") or
            item.Name:lower():find("sit")
        ) then
            table.insert(cachedTripParts, item)
        end
    end
    
    print("[FE] Found " .. #cachedTripParts .. " trip/trigger parts")
    return cachedTripParts
end

-- Find all generic RemoteEvents for spam
local function findAllRemotes()
    if #cachedRemotes > 0 then return cachedRemotes end
    
    cachedRemotes = {}
    
    for _, location in pairs({ReplicatedStorage, Workspace}) do
        for _, item in pairs(location:GetDescendants()) do
            if item:IsA("RemoteEvent") then
                table.insert(cachedRemotes, item)
            end
        end
    end
    
    print("[FE] Found " .. #cachedRemotes .. " total RemoteEvents")
    return cachedRemotes
end

-- Find chat/message remotes
local function findChatRemotes()
    local chatRemotes = {}
    
    for _, item in pairs(ReplicatedStorage:GetDescendants()) do
        if item:IsA("RemoteEvent") and (
            item.Name:lower():find("chat") or
            item.Name:lower():find("message") or
            item.Name:lower():find("say") or
            item.Name:lower():find("talk")
        ) then
            table.insert(chatRemotes, item)
        end
    end
    
    return chatRemotes
end

-- Get all player targets
local function getAllTargets()
    local targets = {}
    
    -- Add all players
    for _, player in pairs(Players:GetPlayers()) do
        if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            table.insert(targets, {
                type = "player",
                character = player.Character,
                hrp = player.Character.HumanoidRootPart,
                humanoid = player.Character:FindFirstChildOfClass("Humanoid")
            })
        end
    end
    
    -- Add all NPCs/Customers
    if Workspace:FindFirstChild("Customers") then
        for _, npc in pairs(Workspace.Customers:GetChildren()) do
            if npc:FindFirstChild("HumanoidRootPart") then
                table.insert(targets, {
                    type = "npc",
                    character = npc,
                    hrp = npc.HumanoidRootPart,
                    humanoid = npc:FindFirstChildOfClass("Humanoid")
                })
            end
        end
    end
    
    return targets
end

-- OPTIMIZED: Mass fire TouchEvents
local function executeTouchBombardment()
    local touchEvents = findAllTouchEvents()
    local tripParts = findTripParts()
    local targets = getAllTargets()
    
    if #touchEvents == 0 or #tripParts == 0 then return end
    
    -- Fire each combination efficiently
    for _, target in pairs(targets) do
        for _, event in pairs(touchEvents) do
            for _, part in pairs(tripParts) do
                pcall(function()
                    event:FireServer(target.hrp, part)
                    event:FireServer(target.humanoid, part)
                    event:FireServer(target.character, part)
                end)
            end
        end
    end
end

-- NEW: Fire ProximityPrompts on all players
local function fireProximityPrompts()
    local targets = getAllTargets()
    
    for _, prompt in pairs(Workspace:GetDescendants()) do
        if prompt:IsA("ProximityPrompt") and prompt.Enabled then
            for _, target in pairs(targets) do
                pcall(function()
                    prompt:InputHoldBegin()
                    wait(0.01)
                    prompt:InputHoldEnd()
                    
                    -- Try to trigger on player
                    if prompt.Parent:FindFirstChild("Triggered") then
                        local triggerRemote = prompt.Parent.Triggered
                        if triggerRemote:IsA("RemoteEvent") then
                            triggerRemote:FireServer(target.character)
                        end
                    end
                end)
            end
        end
    end
end

-- NEW: Spam ClickDetectors
local function fireClickDetectors()
    local targets = getAllTargets()
    
    for _, detector in pairs(Workspace:GetDescendants()) do
        if detector:IsA("ClickDetector") then
            pcall(function()
                fireclickdetector(detector)
                
                -- Try MouseClick event
                if detector.Parent:FindFirstChild("ClickDetector") then
                    for _, connection in pairs(getconnections(detector.MouseClick)) do
                        connection:Fire()
                    end
                end
            end)
        end
    end
end

-- Enhanced notification spam
local function spamNotifications()
    local messages = {
        "üí• BOMBARDMENT ACTIVE! üí•",
        "üéØ You've been hit! üéØ",
        "‚ö° No escape! ‚ö°",
        "üî• Chaos mode enabled! üî•",
        "üí´ Pranked! üí´",
        "üé™ Welcome to the circus! üé™",
        "‚≠ê Star struck! ‚≠ê",
        "üåä Wave of destruction! üåä",
        "üíÄ RIP your peace! üíÄ",
        "üé® Painted with chaos! üé®"
    }
    
    local allRemotes = findAllRemotes()
    
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer then
            local randomMsg = messages[math.random(1, #messages)]
            
            -- Try multiple notification methods
            for _, remote in pairs(allRemotes) do
                pcall(function()
                    -- Method 1: Direct message
                    remote:FireServer(randomMsg)
                    
                    -- Method 2: With player target
                    remote:FireServer(randomMsg, player)
                    remote:FireServer(player, randomMsg)
                    
                    -- Method 3: Table format
                    remote:FireServer({
                        Message = randomMsg,
                        Text = randomMsg,
                        message = randomMsg,
                        text = randomMsg,
                        Player = player,
                        player = player,
                        Target = player,
                        target = player
                    })
                end)
            end
        end
    end
end

-- NEW: Chat spam (if enabled)
local function executeChatSpam()
    local chatMessages = {
        "Everyone sit down! ü™ë",
        "Mass sit incoming! üí•",
        "Nobody is safe! üòà",
        "Bombardment in progress! ‚ö°",
        "Chaos reigns! üî•"
    }
    
    local chatRemotes = findChatRemotes()
    local randomMsg = chatMessages[math.random(1, #chatMessages)]
    
    for _, remote in pairs(chatRemotes) do
        pcall(function()
            remote:FireServer(randomMsg)
            remote:FireServer(randomMsg, "All")
            remote:FireServer({message = randomMsg})
        end)
    end
end

-- Create Enhanced GUI
local ScreenGui, StatusLabel, TouchEventCount, TripPartCount, RemoteCount, ToggleButton, NotifToggle, ChatToggle, IntensitySlider

local function createGUI()
    if CoreGui:FindFirstChild("BombardmentGUI") then
        CoreGui.BombardmentGUI:Destroy()
    end
    
    ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "BombardmentGUI"
    ScreenGui.ResetOnSpawn = false
    ScreenGui.Parent = CoreGui
    
    -- Main Frame
    local MainFrame = Instance.new("Frame")
    MainFrame.Size = UDim2.new(0, 380, 0, 400)
    MainFrame.Position = UDim2.new(0.5, -190, 0.5, -200)
    MainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 25)
    MainFrame.BorderSizePixel = 0
    MainFrame.Parent = ScreenGui
    
    local UICorner = Instance.new("UICorner")
    UICorner.CornerRadius = UDim.new(0, 15)
    UICorner.Parent = MainFrame
    
    -- Animated Gradient Background
    local UIGradient = Instance.new("UIGradient")
    UIGradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(139, 0, 139)),
        ColorSequenceKeypoint.new(0.5, Color3.fromRGB(75, 0, 130)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(138, 43, 226))
    })
    UIGradient.Rotation = 45
    UIGradient.Parent = MainFrame
    
    -- Pulse animation for gradient
    spawn(function()
        while MainFrame.Parent do
            for i = 0, 360, 3 do
                if not MainFrame.Parent then break end
                UIGradient.Rotation = i
                wait(0.03)
            end
        end
    end)
    
    -- Glow effect
    local Glow = Instance.new("ImageLabel")
    Glow.Size = UDim2.new(1, 40, 1, 40)
    Glow.Position = UDim2.new(0, -20, 0, -20)
    Glow.BackgroundTransparency = 1
    Glow.Image = "rbxasset://textures/ui/Chat/ChatBarBackground.png"
    Glow.ImageColor3 = Color3.fromRGB(138, 43, 226)
    Glow.ImageTransparency = 0.5
    Glow.ScaleType = Enum.ScaleType.Slice
    Glow.SliceCenter = Rect.new(12, 12, 12, 12)
    Glow.ZIndex = 0
    Glow.Parent = MainFrame
    
    -- Title Bar
    local Title = Instance.new("TextLabel")
    Title.Size = UDim2.new(1, 0, 0, 50)
    Title.BackgroundColor3 = Color3.fromRGB(30, 0, 60)
    Title.BackgroundTransparency = 0.3
    Title.BorderSizePixel = 0
    Title.Text = "‚ö° ULTIMATE FE BOMBARDMENT ‚ö°"
    Title.TextColor3 = Color3.fromRGB(255, 200, 255)
    Title.TextSize = 18
    Title.Font = Enum.Font.GothamBold
    Title.Parent = MainFrame
    
    local TitleCorner = Instance.new("UICorner")
    TitleCorner.CornerRadius = UDim.new(0, 15)
    TitleCorner.Parent = Title
    
    -- Stats Panel
    local StatsFrame = Instance.new("Frame")
    StatsFrame.Size = UDim2.new(1, -20, 0, 100)
    StatsFrame.Position = UDim2.new(0, 10, 0, 60)
    StatsFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 35)
    StatsFrame.BackgroundTransparency = 0.3
    StatsFrame.BorderSizePixel = 0
    StatsFrame.Parent = MainFrame
    
    local StatsCorner = Instance.new("UICorner")
    StatsCorner.CornerRadius = UDim.new(0, 12)
    StatsCorner.Parent = StatsFrame
    
    TouchEventCount = Instance.new("TextLabel")
    TouchEventCount.Size = UDim2.new(1, -10, 0, 28)
    TouchEventCount.Position = UDim2.new(0, 5, 0, 5)
    TouchEventCount.BackgroundTransparency = 1
    TouchEventCount.Text = "üéØ TouchEvents: Loading..."
    TouchEventCount.TextColor3 = Color3.fromRGB(0, 255, 150)
    TouchEventCount.TextSize = 14
    TouchEventCount.Font = Enum.Font.GothamBold
    TouchEventCount.TextXAlignment = Enum.TextXAlignment.Left
    TouchEventCount.Parent = StatsFrame
    
    TripPartCount = Instance.new("TextLabel")
    TripPartCount.Size = UDim2.new(1, -10, 0, 28)
    TripPartCount.Position = UDim2.new(0, 5, 0, 36)
    TripPartCount.BackgroundTransparency = 1
    TripPartCount.Text = "‚ö° Trip Parts: Loading..."
    TripPartCount.TextColor3 = Color3.fromRGB(255, 200, 0)
    TripPartCount.TextSize = 14
    TripPartCount.Font = Enum.Font.GothamBold
    TripPartCount.TextXAlignment = Enum.TextXAlignment.Left
    TripPartCount.Parent = StatsFrame
    
    RemoteCount = Instance.new("TextLabel")
    RemoteCount.Size = UDim2.new(1, -10, 0, 28)
    RemoteCount.Position = UDim2.new(0, 5, 0, 67)
    RemoteCount.BackgroundTransparency = 1
    RemoteCount.Text = "üåê Total Remotes: Loading..."
    RemoteCount.TextColor3 = Color3.fromRGB(255, 100, 255)
    RemoteCount.TextSize = 14
    RemoteCount.Font = Enum.Font.GothamBold
    RemoteCount.TextXAlignment = Enum.TextXAlignment.Left
    RemoteCount.Parent = StatsFrame
    
    -- Status
    StatusLabel = Instance.new("TextLabel")
    StatusLabel.Size = UDim2.new(1, -20, 0, 35)
    StatusLabel.Position = UDim2.new(0, 10, 0, 170)
    StatusLabel.BackgroundTransparency = 1
    StatusLabel.Text = "‚è∏Ô∏è Status: READY TO UNLEASH"
    StatusLabel.TextColor3 = Color3.fromRGB(255, 150, 150)
    StatusLabel.TextSize = 16
    StatusLabel.Font = Enum.Font.GothamBold
    StatusLabel.Parent = MainFrame
    
    -- Main Toggle
    ToggleButton = Instance.new("TextButton")
    ToggleButton.Size = UDim2.new(1, -20, 0, 50)
    ToggleButton.Position = UDim2.new(0, 10, 0, 210)
    ToggleButton.BackgroundColor3 = Color3.fromRGB(0, 200, 100)
    ToggleButton.BorderSizePixel = 0
    ToggleButton.Text = "üöÄ START BOMBARDMENT"
    ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    ToggleButton.TextSize = 18
    ToggleButton.Font = Enum.Font.GothamBold
    ToggleButton.Parent = MainFrame
    
    local ToggleCorner = Instance.new("UICorner")
    ToggleCorner.CornerRadius = UDim.new(0, 12)
    ToggleCorner.Parent = ToggleButton
    
    -- Notification Toggle
    NotifToggle = Instance.new("TextButton")
    NotifToggle.Size = UDim2.new(0.48, 0, 0, 45)
    NotifToggle.Position = UDim2.new(0, 10, 0, 270)
    NotifToggle.BackgroundColor3 = Color3.fromRGB(50, 50, 70)
    NotifToggle.BorderSizePixel = 0
    NotifToggle.Text = "üì¢ Notif Spam\nOFF"
    NotifToggle.TextColor3 = Color3.fromRGB(255, 255, 255)
    NotifToggle.TextSize = 13
    NotifToggle.Font = Enum.Font.GothamSemibold
    NotifToggle.Parent = MainFrame
    
    local NotifCorner = Instance.new("UICorner")
    NotifCorner.CornerRadius = UDim.new(0, 10)
    NotifCorner.Parent = NotifToggle
    
    -- Chat Toggle
    ChatToggle = Instance.new("TextButton")
    ChatToggle.Size = UDim2.new(0.48, 0, 0, 45)
    ChatToggle.Position = UDim2.new(0.52, 0, 0, 270)
    ChatToggle.BackgroundColor3 = Color3.fromRGB(50, 50, 70)
    ChatToggle.BorderSizePixel = 0
    ChatToggle.Text = "üí¨ Chat Spam\nOFF"
    ChatToggle.TextColor3 = Color3.fromRGB(255, 255, 255)
    ChatToggle.TextSize = 13
    ChatToggle.Font = Enum.Font.GothamSemibold
    ChatToggle.Parent = MainFrame
    
    local ChatCorner = Instance.new("UICorner")
    ChatCorner.CornerRadius = UDim.new(0, 10)
    ChatCorner.Parent = ChatToggle
    
    -- Info Label
    local InfoLabel = Instance.new("TextLabel")
    InfoLabel.Size = UDim2.new(1, -20, 0, 60)
    InfoLabel.Position = UDim2.new(0, 10, 0, 325)
    InfoLabel.BackgroundColor3 = Color3.fromRGB(40, 20, 60)
    InfoLabel.BackgroundTransparency = 0.5
    InfoLabel.BorderSizePixel = 0
    InfoLabel.Text = "‚ö†Ô∏è This fires ALL FE exploits:\nTouchEvents, ProximityPrompts,\nClickDetectors, and more!"
    InfoLabel.TextColor3 = Color3.fromRGB(255, 200, 150)
    InfoLabel.TextSize = 11
    InfoLabel.Font = Enum.Font.Gotham
    InfoLabel.TextWrapped = true
    InfoLabel.Parent = MainFrame
    
    local InfoCorner = Instance.new("UICorner")
    InfoCorner.CornerRadius = UDim.new(0, 10)
    InfoCorner.Parent = InfoLabel
    
    -- Close Button
    local CloseButton = Instance.new("TextButton")
    CloseButton.Size = UDim2.new(0, 45, 0, 45)
    CloseButton.Position = UDim2.new(1, -50, 0, 2.5)
    CloseButton.BackgroundTransparency = 1
    CloseButton.Text = "‚úï"
    CloseButton.TextColor3 = Color3.fromRGB(255, 100, 150)
    CloseButton.TextSize = 28
    CloseButton.Font = Enum.Font.GothamBold
    CloseButton.Parent = MainFrame
    
    -- Make draggable
    local dragging, dragInput, dragStart, startPos
    
    Title.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = MainFrame.Position
            
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)
    
    Title.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement then
            dragInput = input
        end
    end)
    
    game:GetService("UserInputService").InputChanged:Connect(function(input)
        if input == dragInput and dragging then
            local delta = input.Position - dragStart
            MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)
    
    -- Button handlers
    ToggleButton.MouseButton1Click:Connect(function()
        getgenv().BombardmentActive = not getgenv().BombardmentActive
        updateGUI()
    end)
    
    NotifToggle.MouseButton1Click:Connect(function()
        getgenv().NotificationSpam = not getgenv().NotificationSpam
        updateGUI()
    end)
    
    ChatToggle.MouseButton1Click:Connect(function()
        getgenv().ChatSpam = not getgenv().ChatSpam
        updateGUI()
    end)
    
    CloseButton.MouseButton1Click:Connect(function()
        getgenv().BombardmentActive = false
        getgenv().NotificationSpam = false
        getgenv().ChatSpam = false
        ScreenGui:Destroy()
    end)
end

-- Update GUI
function updateGUI()
    if not StatusLabel then return end
    
    if getgenv().BombardmentActive then
        StatusLabel.Text = "üí• Status: BOMBARDMENT ACTIVE! üí•"
        StatusLabel.TextColor3 = Color3.fromRGB(255, 50, 255)
        ToggleButton.Text = "üõë STOP BOMBARDMENT"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
    else
        StatusLabel.Text = "‚è∏Ô∏è Status: READY TO UNLEASH"
        StatusLabel.TextColor3 = Color3.fromRGB(255, 150, 150)
        ToggleButton.Text = "üöÄ START BOMBARDMENT"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(0, 200, 100)
    end
    
    if getgenv().NotificationSpam then
        NotifToggle.Text = "üì¢ Notif Spam\nüî• ON"
        NotifToggle.BackgroundColor3 = Color3.fromRGB(200, 100, 0)
    else
        NotifToggle.Text = "üì¢ Notif Spam\nOFF"
        NotifToggle.BackgroundColor3 = Color3.fromRGB(50, 50, 70)
    end
    
    if getgenv().ChatSpam then
        ChatToggle.Text = "üí¨ Chat Spam\nüî• ON"
        ChatToggle.BackgroundColor3 = Color3.fromRGB(0, 150, 200)
    else
        ChatToggle.Text = "üí¨ Chat Spam\nOFF"
        ChatToggle.BackgroundColor3 = Color3.fromRGB(50, 50, 70)
    end
end

-- Update stats
function updateStats()
    if not TouchEventCount then return end
    
    local touchEvents = findAllTouchEvents()
    local tripParts = findTripParts()
    local allRemotes = findAllRemotes()
    
    TouchEventCount.Text = "üéØ TouchEvents: " .. #touchEvents .. " ready"
    TripPartCount.Text = "‚ö° Trip Parts: " .. #tripParts .. " targets"
    RemoteCount.Text = "üåê Total Remotes: " .. #allRemotes .. " available"
end

-- MAIN BOMBARDMENT LOOP (Optimized)
spawn(function()
    while wait(0.3) do  -- Fast fire rate
        if getgenv().BombardmentActive then
            pcall(function()
                executeTouchBombardment()
                fireProximityPrompts()
                fireClickDetectors()
            end)
        end
    end
end)

-- Notification spam loop
spawn(function()
    while wait(1.5) do
        if getgenv().NotificationSpam then
            pcall(spamNotifications)
        end
    end
end)

-- Chat spam loop
spawn(function()
    while wait(3) do
        if getgenv().ChatSpam then
            pcall(executeChatSpam)
        end
    end
end)

-- Stats update
spawn(function()
    while wait(8) do
        if ScreenGui and ScreenGui.Parent then
            updateStats()
        end
    end
end)

-- Initialize
createGUI()
wait(1)
updateStats()
updateGUI()

StarterGui:SetCore("SendNotification", {
    Title = "‚ö° ULTIMATE BOMBARDMENT";
    Text = "Locked and loaded! Ready to cause chaos!";
    Duration = 4;
})

print("================================================")
print("ULTIMATE FE BOMBARDMENT V2 LOADED")
print("TouchEvents: Optimized mass firing")
print("ProximityPrompts: Auto-trigger all")
print("ClickDetectors: Mass click spam")
print("Notifications: Multi-method spam")
print("Chat: Message flood capability")
print("================================================")